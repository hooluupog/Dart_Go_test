<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script>
var xmlreq;
function showPigs(){
    var data = document.getElementById("pig").value;
		var req = new XMLHttpRequest();
		xmlreq = req;
		req.onreadystatechange = updatePigs;
		req.open("POST","/view",true);
		req.setRequestHeader("Content-Type","text/plain; charset=utf-8");
		req.send(data);
}

function updatePigs(){
    var req = xmlreq;
	  if(!req || req.readyState != 4) {
	  	return;
	  }
	  document.getElementById("output").innerHTML = req.responseText;
}

</script>
</head>
<body>
<div class="content">
<h1> Pig all the way down </h1>
<div class="code">
<pre>
func 我是(x string, n int) {
  if n == 0 {
    return
  } else {
    pig.Print(x, n)
    我是(x, n-1)
  }
}

func Run(n int) {
  三 := <input id="pig" type="text" size="6" placeholder="猪头的数目">

  猪头 := <img src = "pig.png" alt ="image">

  我是(猪头, 三)
}
</pre>
</div>
<div><input type="submit" value="运行" onclick="showPigs()"></div>
<div id="output"></div>
</div>
</body>
</html>
